function addMessage(e,t,n,o){var s=document.createElement("li"),i=document.createElement("span");i.className="message",i.id=`MESSAGE${t}`,addTitle(i,t,n),addContent(i,t,o),e.appendChild(s),s.appendChild(i),s.style.listStyleImage=`url(https://api.adorable.io/avatars/10/${n.split(" ").join("")}.png)`}function addTitle(e,t,n){var o=document.createElement("h5");o.id=`LINE${t}-TITLE`,o.innerHTML=n,e.appendChild(o)}function addContent(e,t,n){var o=document.createElement("p");o.id=`LINE${t}-MESSAGE`,o.innerHTML=n,e.appendChild(o)}function getEntry(){return document.getElementById("entry").value}function setEntry(e){document.getElementById("entry").value=e}function displayMessage(e,t){count++;var n=document.getElementById("messages");addMessage(n,count,e,t),n.scrollTop=n.scrollHeight}var count=0;function setCookie(e,t){document.cookie=`${e}=${t}`}function getCookie(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}function promptUsername(){alertify.prompt("Bienvenue !","Entrez un pseudo","",function(e,t){setCookie("username",pseudo=t),socket.emit("CONNECT",pseudo)},function(){setTimeout(function(){promptUsername()},1)})}function send(){text=getEntry(),""!=text&&(setEntry(""),socket.emit("MESSAGE",text),displayMessage(pseudo,text))}server_adress="http://62.4.13.113:3601";var pseudo,socket=io.connect(server_adress);pseudo=getCookie("username"),console.log(pseudo),null==pseudo?promptUsername():socket.emit("CONNECT",pseudo),socket.on("INFO",function(e){alertify.success(e)}),socket.on("MESSAGE",function(e){console.log(e),displayMessage(e.sender,e.message)});